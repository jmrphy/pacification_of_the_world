setwd("~/Dropbox/gh_projects/pacification_of_the_world")
read.csv("/data/banks_2014/cleaned/oecd.csv")
read.csv("data/banks_2014/cleaned/oecd.csv")
oecd<-read.csv("data/banks_2014/cleaned/oecd.csv")
setwd("~/Dropbox/Data General/banks_2014")
require(gdata)
require(reshape2)
require(ggplot2)
require(zoo)
df<-read.xls("CNTSDATA.xls")
df<-subset(df, code!="16524")  # remove weird row in original data
df$assassinations<-df$domestic1
attach(df)
intl <-aggregate(df[c("year", "assassinations")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919)
intl$ass<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "assassinations")], id="year")
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of assassinations", x="Year") +
theme_bw(base_size = 20)
global.plot
intl$assassination<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "assassination")], id="year")
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of assassinations", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
setwd("~/Dropbox/gh_projects/pacification_of_the_world")
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
View(intl)
intl<-subset(intl, year>=1919)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
View(intl)
molten<-melt(intl[c("year", "assassinations", "strikes", "riots", "guerilla")], id="year")
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id="year")
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
```
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
View(df)
View(df)
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year")
)
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
global.plot
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2001)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
global.plot
df<-subset(intl, year>=1919 & year<=2001)
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
df<-subset(intl, year>=1919 & year<=2001)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
df<-subset(df, year>=1919 & year<=2001)
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(df[c("country", "year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2001)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("country", "year"))
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("year"))
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2000)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/oecd.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
df<-subset(df, country=="Italy" |
country=="France" |
country=="United Kingdom"|
country=="United States" |
country=="Greece" |
country=="Portugal" |
country=="Belgium")
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
intl$demos<-rollmean(intl$demos, k=5,fill = list(NA, NULL, NA))
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$demos<-rollmean(intl$demos, k=5,fill = list(NA, NULL, NA))
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict", "demos")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$demos<-rollmean(intl$demos, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla", "riots", "demos")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20) +
facet_wrap(~country)
global.plot
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
molten<-melt(intl[c("year", "assassinations", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict", "demos")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = list(NA, NULL, NA))
intl$demos<-rollmean(intl$demos, k=5,fill = list(NA, NULL, NA))
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
# df<-subset(df, country=="Italy" |
#        country=="France" |
#        country=="United Kingdom"|
#          country=="United States" |
#          country=="Greece" |
#          country=="Portugal" |
#          country=="Belgium")
molten<-melt(intl[c("year", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
global.plot<-ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events across OECD countries", x="Year") +
theme_bw(base_size = 20)
global.plot
View(intl)
?rollmean
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict", "demos")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = list(NA, NULL, NA))
intl$strikes<-rollmean(intl$strikes, k=5,fill = list(NA, NULL, NA))
intl$riots<-rollmean(intl$riots, k=5,fill = list(NA, NULL, NA))
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = NA)
intl$demos<-rollmean(intl$demos, k=5,fill = list(NA, NULL, NA))
molten<-melt(intl[c("year", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events around the world", x="Year") +
theme_bw()
setwd("~/Dropbox/gh_projects/pacification_of_the_world")
df<-read.csv("data/banks_2014/cleaned/media_politics.csv")
require(reshape2)
require(ggplot2)
require(zoo)
attach(df)
intl <-aggregate(df[c("year", "assassinations", "strikes", "riots", "guerilla", "overall.conflict", "demos")], by=list(year),
FUN=mean, na.rm=TRUE)
detach(df)
intl<-subset(intl, year>=1919 & year<=2008)
intl$assassinations<-rollmean(intl$assassinations, k=5,fill = NA)
intl$strikes<-rollmean(intl$strikes, k=5,fill = NA)
intl$riots<-rollmean(intl$riots, k=5,fill = NA)
intl$guerilla<-rollmean(intl$guerilla, k=5,fill = NA)
intl$demos<-rollmean(intl$demos, k=5,fill = NA)
intl$overall.conflict<-rollmean(intl$overall.conflict, k=5,fill = list(NA, NULL, NA))
# df<-subset(df, country=="Italy" |
#        country=="France" |
#        country=="United Kingdom"|
#          country=="United States" |
#          country=="Greece" |
#          country=="Portugal" |
#          country=="Belgium")
molten<-melt(intl[c("year", "strikes", "guerilla", "riots")], id.vars=c("year"))
cbbPalette <- c("#000000", "#56B4E9", "#E69F00", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
ggplot(molten, aes(x=year, colour=variable)) +
geom_line(aes(y=value)) +
scale_colour_manual(values=cbbPalette) +
labs(y="Mean number of events around the world", x="Year") +
theme_bw()
global.plot
View(intl)
?labs
